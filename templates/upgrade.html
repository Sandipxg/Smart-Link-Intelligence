{% extends "base.html" %}
{% block content %}
<div class="container py-5">
  <!-- Hero Section -->
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold mb-3">
      Choose Your <span class="text-primary">Power Level</span>
    </h1>
    <p class="lead text-muted mb-4">
      Unlock higher limits, lifetime links, and advanced protection.
    </p>
  </div>

  <!-- Pricing Table -->
  <div class="row row-cols-1 row-cols-md-3 mb-3 text-center">

    <!-- Free Tier -->
    <div class="col">
      <div class="card mb-4 rounded-3 shadow-sm">
        <div class="card-header py-3">
          <h4 class="my-0 fw-normal">Free</h4>
        </div>
        <div class="card-body">
          <h1 class="card-title pricing-card-title">$0<small class="text-muted fw-light">/mo</small></h1>
          <ul class="list-unstyled mt-3 mb-4">
            <li><i class="bi bi-link-45deg me-2"></i>10 Smart Links</li>
            <li><i class="bi bi-clock-history me-2 text-warning"></i>7 Days Link Validity</li>
            <li><i class="bi bi-check-lg me-2 text-success"></i>Advanced Analytics</li>
            <li class="text-muted"><i class="bi bi-x-lg me-2"></i>No Custom Ads</li>
            <li class="text-muted"><i class="bi bi-x-lg me-2"></i>No DDoS Protection</li>
            <li class="text-muted"><i class="bi bi-x-lg me-2"></i>No Progressive Redirects</li>
            <li class="text-muted"><i class="bi bi-x-lg me-2"></i>No Password Protection</li>
          </ul>
          {% if g.user['membership_tier'] == 'free' %}
          <button type="button" class="btn btn-lg btn-outline-secondary w-100" disabled>Current Plan</button>
          {% else %}
          <button type="button" class="btn btn-lg btn-outline-primary w-100" disabled>Included</button>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Elite Tier -->
    <div class="col">
      <div class="card mb-4 rounded-3 shadow-sm border-warning">
        <div class="card-header py-3 bg-warning bg-opacity-10 border-warning">
          <h4 class="my-0 fw-normal text-warning"><i class="bi bi-crown-fill me-2"></i>Elite</h4>
        </div>
        <div class="card-body">
          <h1 class="card-title pricing-card-title">$9<small class="text-muted fw-light">/mo</small></h1>
          <ul class="list-unstyled mt-3 mb-4">
            <li><i class="bi bi-link-45deg me-2 fw-bold"></i>35 Smart Links</li>
            <li><i class="bi bi-infinity me-2 text-primary fw-bold"></i>Lifetime Validity</li>
            <li><i class="bi bi-check-lg me-2 text-success"></i>Advanced Analytics</li>
            <li class="text-muted"><i class="bi bi-x-lg me-2"></i>No Custom Ads</li>
            <li class="text-muted"><i class="bi bi-x-lg me-2"></i>No DDoS Protection</li>
            <li><i class="bi bi-check-lg me-2 text-success"></i>Progressive Redirects</li>
            <li><i class="bi bi-check-lg me-2 text-success"></i>Password Protection</li>
          </ul>
          {% if g.user['membership_tier'] == 'elite' %}
          <button type="button" class="btn btn-lg btn-warning w-100" disabled>Current Plan</button>
          {% else %}
          <form method="POST" action="{{ url_for('user.process_upgrade') }}">
            <input type="hidden" name="plan" value="elite">
            <button type="submit" class="btn btn-lg btn-warning w-100">Upgrade to Elite</button>
          </form>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Elite Pro Tier -->
    <div class="col">
      <div class="card mb-4 rounded-3 shadow border-primary">
        <div class="card-header py-3 bg-primary text-white border-primary">
          <h4 class="my-0 fw-normal"><i class="bi bi-shield-fill-check me-2"></i>Elite Pro</h4>
        </div>
        <div class="card-body">
          <h1 class="card-title pricing-card-title">$19<small class="text-muted fw-light">/mo</small></h1>
          <ul class="list-unstyled mt-3 mb-4">
            <li><i class="bi bi-infinity me-2 fw-bold text-success"></i>Unlimited Smart Links</li>
            <li><i class="bi bi-infinity me-2 text-primary fw-bold"></i>Lifetime Validity</li>
            <li><i class="bi bi-check-lg me-2 text-success"></i>Advanced Analytics</li>
            <li class="fw-bold"><i class="bi bi-megaphone-fill me-2 text-success"></i>Custom Ads</li>
            <li class="fw-bold"><i class="bi bi-shield-lock-fill me-2 text-success"></i>DDoS Protection</li>
            <li><i class="bi bi-check-lg me-2 text-success"></i>Progressive Redirects</li>
            <li><i class="bi bi-check-lg me-2 text-success"></i>Password Protection</li>
          </ul>
          {% if g.user['membership_tier'] == 'elite_pro' %}
          <button type="button" class="btn btn-lg btn-primary w-100" disabled>Current Plan</button>
          {% else %}
          <form method="POST" action="{{ url_for('user.process_upgrade') }}">
            <input type="hidden" name="plan" value="elite_pro">
            <button type="submit" class="btn btn-lg btn-primary w-100">Get Elite Pro</button>
          </form>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <div class="row text-center mt-5">
    <div class="col-md-8 offset-md-2">
      <h3 class="mb-4">Standard Features</h3>
      <p class="text-muted">All plans include standard features like QR code generation, click tracking, and basic
        geographic data.</p>
    </div>
  </div>
</div>
{% endblock %}